<app-sidebar (sidebarToggled)="onSidebarToggled($event)" (logoutClicked)="logout()"></app-sidebar>
<main [class.main-expanded]="!sidebarOpen" [class.main-collapsed]="sidebarOpen">
  <router-outlet></router-outlet>
</main>

<!-- Toast Notifications -->
<app-toast [toasts]="(messageService.toasts | async) || []"></app-toast>

<!-- Logout Confirmation Modal -->
@if (showLogoutModal) {
<div class="logout-modal-overlay" (click)="onLogoutOverlayClick($event)">
  <div class="logout-modal">
    <div class="logout-modal-icon">
      <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
        <polyline points="16 17 21 12 16 7" />
        <line x1="21" y1="12" x2="9" y2="12" />
      </svg>
    </div>
    <h2>¿Cerrar sesión?</h2>
    <p>Estás a punto de salir de tu cuenta. ¿Deseas continuar?</p>
    <div class="logout-modal-actions">
      <button class="btn-logout-cancel" (click)="cancelLogout()">Cancelar</button>
      <button class="btn-logout-confirm" (click)="confirmLogout()">Cerrar Sesión</button>
    </div>
  </div>
</div>
}