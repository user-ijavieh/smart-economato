<div class="login-wrapper">
  <div class="container">
    <!-- Título -->
    <div class="title">
      <h1>Smart Economato</h1>
    </div>

    <!-- Formulario -->
    <div class="login">
      <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
        <label for="name">Usuario:</label>
        <input
          id="name"
          type="text"
          formControlName="name"
          placeholder="admin"
          [class.input-error]="loginForm.get('name')?.invalid && loginForm.get('name')?.touched"
        />
        @if (loginForm.get('name')?.hasError('required') && loginForm.get('name')?.touched) {
          <p class="field-error">El usuario es requerido</p>
        }
        @if (loginForm.get('name')?.hasError('minlength') && loginForm.get('name')?.touched) {
          <p class="field-error">El usuario debe tener al menos 3 caracteres</p>
        }

        <label for="password">Contraseña:</label>
        <input
          id="password"
          type="password"
          formControlName="password"
          placeholder=" *********"
          [class.input-error]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
        />
        @if (loginForm.get('password')?.hasError('required') && loginForm.get('password')?.touched) {
          <p class="field-error">La contraseña es requerida</p>
        }

        @if (errorMessage) {
          <div class="error-banner">{{ errorMessage }}</div>
        }

        <button type="submit" [disabled]="loginForm.invalid || loading">
          @if (loading) {
            Ingresando...
          } @else {
            Entrar
          }
        </button>
      </form>
    </div>

    <!-- Logos -->
    <div class="logos">
      <img src="/assets/img/logoGobCan.png" alt="logoGobCan">
      <img src="/assets/img/Candelaria.svg" alt="logoCandelaria">
    </div>
  </div>
</div>
